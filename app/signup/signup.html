<head>
<title>What To Do?</title>
<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!-- Bootstrap JavaScript -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<!-- Bootstrap css -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
</head>

<form name="signupform" id="signupform" action="/api/signup" method="POST">
    <div class="container">
            <div class="card">
                <article class="card-body">
                    <a href="/login" class="float-right btn btn-outline-primary">Sign In</a>
                    <h4 class="card-title text mb-4 mt-1">Sign Up</h4>
                    <hr>
                    <form>
                    <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                            </div>
                        <input name="email" class="form-control" placeholder="Email" type="email">
                    </div> <!-- input-group.// -->
                    </div> <!-- form-group// -->
                    <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                                    </div>
                                <input name="username" class="form-control" placeholder="Username" type="text">
                            </div> <!-- input-group.// -->
                            </div> <!-- form-group// -->
                    <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                            </div>
                        <input name="password" class="form-control" placeholder="******" type="password">
                    </div> <!-- input-group.// -->
                    </div> <!-- form-group// -->
                    <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">Sign Up</button>
                    </div> <!-- form-group// -->
                    </form>
                </article>
            </div> <!-- card.// -->
    </div>
</form>

<script>
//jQuery
$("#signupform").submit(function() {
    console.log('form submit');
    $.ajax({
        data: $(this).serialize(),
        url: this.action,
        type: this.method,
        error: error => { // callback
            console.error("Error", error);
        },
        success: result => { // callback
            console.log("result", result);
            switch(result.status) {
                case 200:
                    location.href = "/";
                    break;
                case 403:
                    console.error(result.error);
                    break;
            }
        }
    });
    return false;
});
</script>




<body>
    <!-- <h1>Sign up</h1>

    <!-- SIGN UP FORM -->
    <!-- <form name="form" id="form" action="/api/signup" method="POST">
        <div class="form-group">
            <label>Username: </label>
            <input type="text" class="form-control" name="username"></input>
            <br></br>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" name="password"></input>
        </div>

        <button type="submit">Sign up</button> -->

    <!-- </form> --> 
</body>